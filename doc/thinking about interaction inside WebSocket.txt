портируем игру Rock Paper Scissors in ICQ (RPS)
в Web на html5

Предметная область
    Экран выбора цвета команды
        Кнопка красный/синий
    Экран игры
        Поле (в оригилале горизонталь 7 на вертикаль 6)
        Индикатор состояния чей ход
        время, остающееся до конца хода
        логотип
    Экран проигрыша
        объявление команды победителя
    Действия пользователя (начало)
        выбрать цвет команды
        разместить флаг
        разместить ловушку
        подождать, когда догенерируется поле
            равное количество с камнем, ножницами и бумагой
        обновить поле, если не нравится состояние
        нажать начать игру
        подождать опонента
        увидить, чей ход
        
    Ход игрока
        выбрать персонажа своего
            передвинуть на соседнюю клетку(верх вправо вниз влево)        
            можно передвинуть, если не мешает край карты или свой персонаж
        взаимодействие персонажей
            Если делается ход, и на клетке есть персонаж другой команды
                Если второй персонаж держит флаг
                    Флаг захвачен, игра закончена
                Если второй персонаж является ловушкой
                    ходящий персонаж проигрывает и исчезает
                если второй персонаж обычный    
                    Открывается, какой у него предмет
                        если предмет не такой же, как у друого персонажа
                            то проводится бой,
                            проигрывающий персонаж исчезает
                        если предмет такой же, 
                            открывается меню с выбором предмета у обоих игроков,   
                            проводится бой,
                            проигрывающий персонаж исчезает.
    Условие выхода
        флаг захвачен.    
        
Передача данных между клиентом и сервером.
    выбор цвета и ролей - интерактивный процесс.
    Полностью на клиенте
    
    Пользователь авторизуется, получает токен сессии.
    
    Загружает свою карту на сервер - массив персонажей с координатами
        Валидируется на сервере
    сервер ставит его в очередь, в зависимости от цвета
    
    процесс собирает игровые комнаты из этих пользовательских запросов
    
    запоминает, в какой комнате находится пользователь с токеном
    
    возвращает игровую комнату, вместе со всем барахлом и персонажами
    
    возвращает состояние хода
    
    сервер рулит игровым процессом
    
    он делает запросы на ход
        получает переход, с какой клетки на какую.
    запросы на перевыбор предмета, если нужно
        получает новое значение
    проводит бой на сервере
        возвращает обновление
        
    делает запрос на конец игры и разрывает соединение.       
        
    Когда приходит с токеном websocket соединение,
    Проверяется принадлежность
        
        
